# CLAUDE.md

## プロジェクト概要

**MoneyPouch**は、シンプルで美しいUIを持つ個人向け支出管理・家計簿アプリケーションです。日々の支出を記録し、予算を管理し、貯蓄目標を設定できます。

## 主な機能

- **支出記録**: 金額、カテゴリ、日付を記録
- **予算管理**: 月間予算と1日あたりの使える金額を表示
- **履歴表示**: 過去の支出履歴を確認
- **目標設定**: 貯蓄目標を設定・管理
- **カテゴリ別管理**: 食費、娯楽、交通費、買い物、医療、その他

## 技術スタック

- HTML5
- CSS3 (グラスモーフィズムデザイン)
- Vanilla JavaScript
- Google Material Icons

## 開発ルール

### Gitコミットメッセージ

このプロジェクトでは、**日本語**でコミットメッセージを記述してください。

#### 形式

```
[種別] 簡潔な説明

詳細な説明（必要に応じて）
```

#### 種別の例

- `追加`: 新機能の追加
- `修正`: バグ修正
- `更新`: 既存機能の改善
- `削除`: 不要なコードや機能の削除
- `リファクタリング`: コードの整理・最適化
- `ドキュメント`: ドキュメントの追加・更新
- `スタイル`: UIデザインの変更

#### 例

```
追加: 支出編集機能のモーダルを実装

支出アイテムをクリックすると編集モーダルが開き、
金額、カテゴリ、日付を変更できるようにした。
```

## ファイル構成

```
money-pouch/
├── home.html       # ホーム画面（残高・支出記録）
├── history.html    # 履歴画面
├── goals.html      # 目標設定画面
├── doc/            # ドキュメントフォルダ
├── README.md       # プロジェクト説明
└── CLAUDE.md       # このファイル
```

## 開発時の注意事項

- レスポンシブデザインを維持する（最大幅480px）
- グラスモーフィズムのデザインスタイルを統一する
- Material Iconsを使用してアイコンを表示
- 日本語UIを維持する

## テーマシステム

MoneyPouchは3つのテーマカラーを提供しています。テーマは設定画面から変更できます。

### 利用可能なテーマ

1. **デフォルト** (`default`)
   - 青紫グラデーション
   - アイコン: `computer`
   - プライマリカラー: エメラルドグリーン

2. **ミッドナイト** (`midnight`)
   - 黒×ダークブルーグラデーション
   - アイコン: `nights_stay`
   - プライマリカラー: スカイブルー

3. **ハッカー** (`terminal`)
   - 純黒背景のレトロPC風
   - アイコン: `terminal`
   - プライマリカラー: 緑（`#00ff41`）
   - テキストもハッカー風の緑色

### テーマで変更される要素

以下の要素はテーマによって変わります：

- **背景グラデーション** (`--bg-gradient-start`, `--bg-gradient-mid`, `--bg-gradient-end`)
- **プライマリカラー** (`--primary-start`, `--primary-end`, `--primary-accent` など)
- **ガラスエフェクト** (`--glass-bg-light`, `--glass-border` など)
- **テキストカラー** (`--text-primary`, `--text-secondary`, `--text-tertiary`)
- **モーダル・ドロワー背景** (`--modal-bg-start`, `--drawer-bg-start` など)

### テーマで変更されない要素（固定）

以下の要素は全テーマ共通で固定されています：

- **カテゴリアイコンの色** (`--category-*-bg`, `--category-*-icon`)
  - 🍴 食費: オレンジ系
  - 🎮 娯楽: 青紫系
  - 🚌 交通費: 緑系
  - 🛍️ 買い物: ピンク系
  - ❤️ 医療: 赤系
  - ⋯ その他: グレー系

- **ゴール・達成関連の色** (`--goal-accent`, `--goal-bg` など)
  - 黄色/ゴールド系で統一

- **デンジャーカラー** (`--danger-start`, `--danger-end` など)
  - 赤色で統一

### 新しいテーマの追加方法

1. **`css/variables.css`に新しいテーマを追加**

```css
[data-theme="新しいテーマID"] {
    /* 背景グラデーション */
    --bg-gradient-start: #色コード;
    --bg-gradient-mid: #色コード;
    --bg-gradient-end: #色コード;

    /* プライマリカラー */
    --primary-start: #色コード;
    --primary-end: #色コード;
    /* ... 以下省略 ... */
}
```

2. **`js/theme.js`のTHEMES配列に追加**

```javascript
const THEMES = [
    { id: 'default', name: 'デフォルト', icon: 'computer' },
    { id: 'midnight', name: 'ミッドナイト', icon: 'nights_stay' },
    { id: 'terminal', name: 'ターミナル', icon: 'terminal' },
    { id: '新しいテーマID', name: '表示名', icon: 'material_icon名' }
];
```

**注意**: カテゴリアイコンの色は`:root`で定義されており、全テーマ共通で固定されています。テーマごとに変更することは推奨しません。
